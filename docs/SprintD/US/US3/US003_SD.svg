<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1049px" preserveAspectRatio="none" style="width:1776px;height:1049px;background:#FFFFFF;" version="1.1" viewBox="0 0 1776 1049" width="1776px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="856.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="42" y="92.6094"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="114.9609"/><rect fill="#FFFFFF" height="428.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="192.0156"/><rect fill="#FFFFFF" height="298.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="651.0313"/><rect fill="#FFFFFF" height="381.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="802" y="238.7188"/><rect fill="#FFFFFF" height="237.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="802" y="681.3828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="998" y="269.0703"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1189" y="345.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1189" y="422.8281"/><rect fill="#FFFFFF" height="139.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1189" y="711.7344"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1194" y="750.0859"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1194" y="823.4375"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1492" y="888.7891"/><rect fill="#FFFFFF" height="76.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1614.5" y="483.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="82.6094" y2="967.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="442.5" x2="442.5" y1="82.6094" y2="967.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="806.5" x2="806.5" y1="82.6094" y2="967.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1003" x2="1003" y1="82.6094" y2="967.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1194" x2="1194" y1="82.6094" y2="967.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1496.5" x2="1496.5" y1="82.6094" y2="967.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1619.5" x2="1619.5" y1="82.6094" y2="967.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1731.5" x2="1731.5" y1="387.125" y2="967.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="79.5332">Receptionist</text><ellipse cx="47" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47,21.5 L47,48.5 M34,29.5 L60,29.5 M47,48.5 L34,63.5 M47,48.5 L60,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="980.6738">Receptionist</text><ellipse cx="47" cy="992.25" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47,1000.25 L47,1027.25 M34,1008.25 L60,1008.25 M47,1027.25 L34,1042.25 M47,1027.25 L60,1042.25 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="368.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="375.5" y="71.5332">: RegistersSNSuserUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="368.5" y="966.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="375.5" y="987.6738">: RegistersSNSuserUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="199" x="707.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="714.5" y="71.5332">: RegistersSNSuserController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="199" x="707.5" y="966.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="714.5" y="987.6738">: RegistersSNSuserController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="962" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="969" y="71.5332">: Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="962" y="966.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="969" y="987.6738">: Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="1138" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1145" y="71.5332">: SNSUserStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="1138" y="966.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1145" y="987.6738">: SNSUserStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1447.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1454.5" y="71.5332">: AuthFacade</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1447.5" y="966.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1454.5" y="987.6738">: AuthFacade</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="1556.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1563.5" y="71.5332">: SNSUserMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="1556.5" y="966.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1563.5" y="987.6738">: SNSUserMapper</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="1692.5" y="966.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1699.5" y="987.6738">: SNSUser</text><rect fill="#FFFFFF" height="856.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="42" y="92.6094"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="114.9609"/><rect fill="#FFFFFF" height="428.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="192.0156"/><rect fill="#FFFFFF" height="298.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="438" y="651.0313"/><rect fill="#FFFFFF" height="381.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="802" y="238.7188"/><rect fill="#FFFFFF" height="237.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="802" y="681.3828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="998" y="269.0703"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1189" y="345.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1189" y="422.8281"/><rect fill="#FFFFFF" height="139.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1189" y="711.7344"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1194" y="750.0859"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1194" y="823.4375"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1492" y="888.7891"/><rect fill="#FFFFFF" height="76.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1614.5" y="483.1797"/><polygon fill="#181818" points="426,110.9609,436,114.9609,426,118.9609,430,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="432" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="70" y="110.1045">starts the registration of a new SNS user</text><polygon fill="#181818" points="63,157.6641,53,161.6641,63,165.6641,59,161.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57" x2="442" y1="161.6641" y2="161.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="69" y="148.6318">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="347" x="80" y="140.4561">requests data (name, address, sex(optional), phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="84" y="156.8076">email, birthDate, SNSUserNumber, citizenCardNumber)</text><polygon fill="#181818" points="426,188.0156,436,192.0156,426,196.0156,430,192.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="432" y1="192.0156" y2="192.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="187.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="70" y="187.1592">types requested data</text><polygon fill="#181818" points="790,234.7188,800,238.7188,790,242.7188,794,238.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="448" x2="796" y1="238.7188" y2="238.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="455" y="225.6865">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="466" y="217.5107">createSNSuser(name, address, sex, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="470" y="233.8623">email, birthDate, SNSUserNumber, citizenCardNumber)</text><polygon fill="#181818" points="986,265.0703,996,269.0703,986,273.0703,990,269.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="812" x2="992" y1="269.0703" y2="269.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="819" y="264.2139">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="830" y="264.2139">store = getSNSUserStore()</text><polygon fill="#181818" points="1177,341.7734,1187,345.7734,1177,349.7734,1181,345.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="812" x2="1183" y1="345.7734" y2="345.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="819" y="332.7412">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="343" x="830" y="324.5654">snsu = createSNSuser(name, address, sex, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="834" y="340.917">email, birthDate, SNSUserNumber, citizenCardNumber)</text><polygon fill="#181818" points="1680.5,388.4766,1690.5,392.4766,1680.5,396.4766,1684.5,392.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1194" x2="1686.5" y1="392.4766" y2="392.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1201" y="379.4443">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="1212" y="371.2686">create(name, address, sex, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="1216" y="387.6201">email, birthDate, SNSUserNumber, citizenCardNumber)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="1692.5" y="357.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1699.5" y="379.4004">: SNSUser</text><polygon fill="#181818" points="1177,418.8281,1187,422.8281,1177,426.8281,1181,422.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="812" x2="1183" y1="422.8281" y2="422.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="819" y="417.9717">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="830" y="417.9717">validateSNSuser()</text><polygon fill="#181818" points="1602.5,479.1797,1612.5,483.1797,1602.5,487.1797,1606.5,483.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="812" x2="1608.5" y1="483.1797" y2="483.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="819" y="478.3232">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="830" y="478.3232">toDTO(snsu)</text><rect height="41.4453" style="stroke:#000000;stroke-width:1.5;fill:none;" width="167" x="1553.5" y="491.1797"/><path d="M1553.5,491.1797 L1615.5,491.1797 L1615.5,499.1797 L1605.5,509.1797 L1553.5,509.1797 L1553.5,491.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1566.5" y="506.6748">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159" x="1557.5" y="525.6367">SD_SNSUserMapper_toDTO</text><polygon fill="#181818" points="823,555.9766,813,559.9766,823,563.9766,819,559.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="817" x2="1618.5" y1="559.9766" y2="559.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="829" y="555.1201">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="847" y="555.1201">snsUserDTO</text><polygon fill="#181818" points="459,586.3281,449,590.3281,459,594.3281,455,590.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="453" x2="801" y1="590.3281" y2="590.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="465" y="585.4717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="483" y="585.4717">snsUserDTO</text><polygon fill="#181818" points="63,616.6797,53,620.6797,63,624.6797,59,620.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57" x2="442" y1="620.6797" y2="620.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="69" y="615.8232">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="87" y="615.8232">shows the data and requests a confirmation</text><polygon fill="#181818" points="426,647.0313,436,651.0313,426,655.0313,430,651.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="432" y1="651.0313" y2="651.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59" y="646.1748">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="77" y="646.1748">confirms the data</text><polygon fill="#181818" points="790,677.3828,800,681.3828,790,685.3828,794,681.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="448" x2="796" y1="681.3828" y2="681.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="455" y="676.5264">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="473" y="676.5264">saveSNSuser(snsu)</text><polygon fill="#181818" points="1177,707.7344,1187,711.7344,1177,715.7344,1181,711.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="812" x2="1183" y1="711.7344" y2="711.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="819" y="706.8779">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="837" y="706.8779">addSNSUser(snsu)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1204" x2="1246" y1="742.0859" y2="742.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1246" x2="1246" y1="742.0859" y2="755.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1205" x2="1246" y1="755.0859" y2="755.0859"/><polygon fill="#181818" points="1215,751.0859,1205,755.0859,1215,759.0859,1211,755.0859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1211" y="737.2295">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="1229" y="737.2295">validateSNSuser(snsu)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1204" x2="1246" y1="815.4375" y2="815.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1246" x2="1246" y1="815.4375" y2="828.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1205" x2="1246" y1="828.4375" y2="828.4375"/><polygon fill="#181818" points="1215,824.4375,1205,828.4375,1215,832.4375,1211,828.4375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1211" y="810.5811">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1229" y="810.5811">add(snsu)</text><polygon fill="#181818" points="1480,884.7891,1490,888.7891,1480,892.7891,1484,888.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="812" x2="1486" y1="888.7891" y2="888.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="819" y="883.9326">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="643" x="837" y="883.9326">addUserWithRole(snsu.getName(), snsu.getEmail(),generateRandomPassword(), Constants.ROLE_SNSUSER)</text><polygon fill="#181818" points="58,945.1406,48,949.1406,58,953.1406,54,949.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="442" y1="949.1406" y2="949.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="64" y="944.2842">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="82" y="944.2842">informs operation success</text><!--MD5=[4e94ab868fabea180b6a3c99e8ccfec0]
@startuml
autonumber
actor "Receptionist" as recep

participant ": RegistersSNSuserUI" as UI
participant ": RegistersSNSuserController" as Controller
participant ": Company" as Company
participant ": SNSUserStore" as SNSuserStore
participant ": AuthFacade" as auth
participant ": SNSUserMapper" as SNSUserMapper
participant ": SNSUser" as SNSUser

activate recep
recep -> UI :  starts the registration of a new SNS user
activate UI
UI - -> recep : requests data (name, address, sex(optional), phoneNumber, \n email, birthDate, SNSUserNumber, citizenCardNumber)
deactivate UI

recep -> UI : types requested data
activate UI

UI -> Controller : createSNSuser(name, address, sex, phoneNumber, \n email, birthDate, SNSUserNumber, citizenCardNumber)
activate Controller



Controller -> Company : store = getSNSUserStore()
activate Company
deactivate Company

Controller -> SNSuserStore : snsu = createSNSuser(name, address, sex, phoneNumber, \n email, birthDate, SNSUserNumber, citizenCardNumber)
activate SNSuserStore


SNSuserStore - -> SNSUser** : create(name, address, sex, phoneNumber, \n email, birthDate, SNSUserNumber, citizenCardNumber)

deactivate SNSuserStore



Controller -> SNSuserStore : validateSNSuser()
activate SNSuserStore
deactivate SNSuserStore



Controller -> SNSUserMapper : toDTO(snsu)
activate SNSUserMapper
ref over SNSUserMapper
SD_SNSUserMapper_toDTO
end ref
SNSUserMapper - -> Controller : snsUserDTO
deactivate SNSUserMapper
Controller - -> UI : snsUserDTO

UI - -> recep : shows the data and requests a confirmation
deactivate UI
deactivate Controller

recep -> UI : confirms the data
activate UI

UI -> Controller : saveSNSuser(snsu)
activate Controller


Controller -> SNSuserStore : addSNSUser(snsu)
activate SNSuserStore

SNSuserStore -> SNSuserStore : validateSNSuser(snsu)
activate SNSuserStore
deactivate SNSuserStore
SNSuserStore-> SNSuserStore : add(snsu)
activate SNSuserStore
deactivate SNSuserStore
deactivate SNSuserStore

Controller -> auth : addUserWithRole(snsu.getName(), snsu.getEmail(),generateRandomPassword(), Constants.ROLE_SNSUSER)
activate auth
deactivate auth

deactivate Controller
deactivate Company

UI - -> recep : informs operation success

deactivate UI
deactivate recep
@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>