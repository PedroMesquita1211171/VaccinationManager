<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="682px" preserveAspectRatio="none" style="width:2425px;height:682px;background:#FFFFFF;" version="1.1" viewBox="0 0 2425 682" width="2425px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="489.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="42" y="92.6094"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="114.9609"/><rect fill="#FFFFFF" height="164.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="175.6641"/><rect fill="#FFFFFF" height="211.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="370.4219"/><rect fill="#FFFFFF" height="134.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="206.0156"/><rect fill="#FFFFFF" height="151.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="400.7734"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1562" y="431.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2133" y="236.3672"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2252" y="521.8281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2363" y="461.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="82.6094" y2="600.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="727.5" x2="727.5" y1="82.6094" y2="600.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1408.5" x2="1408.5" y1="82.6094" y2="600.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1567" x2="1567" y1="82.6094" y2="600.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2138" x2="2138" y1="82.6094" y2="600.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2256.5" x2="2256.5" y1="82.6094" y2="600.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2367.5" x2="2367.5" y1="82.6094" y2="600.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="79.5332">Receptionist</text><ellipse cx="47" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47,21.5 L47,48.5 M34,29.5 L60,29.5 M47,48.5 L34,63.5 M47,48.5 L60,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="5" y="613.7129">Receptionist</text><ellipse cx="47" cy="625.2891" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47,633.2891 L47,660.2891 M34,641.2891 L60,641.2891 M47,660.2891 L34,675.2891 M47,660.2891 L60,675.2891 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="653.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="660.5" y="71.5332">: RegistersSNSuserUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="653.5" y="599.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="660.5" y="620.7129">: RegistersSNSuserUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="199" x="1309.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="1316.5" y="71.5332">: RegistersSNSuserController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="199" x="1309.5" y="599.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="1316.5" y="620.7129">: RegistersSNSuserController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="1526" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1533" y="71.5332">: Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="1526" y="599.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1533" y="620.7129">: Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="2103" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="2110" y="71.5332">SNSUser</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="2103" y="599.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="2110" y="620.7129">SNSUser</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="2207.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="2214.5" y="71.5332">: AuthFacade</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="2207.5" y="599.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="2214.5" y="620.7129">: AuthFacade</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="2316.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="2323.5" y="71.5332">SNSuserStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="2316.5" y="599.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="2323.5" y="620.7129">SNSuserStore</text><rect fill="#FFFFFF" height="489.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="42" y="92.6094"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="114.9609"/><rect fill="#FFFFFF" height="164.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="175.6641"/><rect fill="#FFFFFF" height="211.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="370.4219"/><rect fill="#FFFFFF" height="134.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="206.0156"/><rect fill="#FFFFFF" height="151.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="400.7734"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1562" y="431.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2133" y="236.3672"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2252" y="521.8281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2363" y="461.4766"/><polygon fill="#181818" points="711,110.9609,721,114.9609,711,118.9609,715,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="717" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="70" y="110.1045">starts the registration of a new SNS user</text><polygon fill="#181818" points="63,141.3125,53,145.3125,63,149.3125,59,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57" x2="727" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="69" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="636" x="80" y="140.4561">requests data (name,SNS number,birth date,citizen card number,sex,phone number,address,e-mail,password)</text><polygon fill="#181818" points="711,171.6641,721,175.6641,711,179.6641,715,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="717" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="170.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="70" y="170.8076">types requested data</text><polygon fill="#181818" points="1392,202.0156,1402,206.0156,1392,210.0156,1396,206.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="1398" y1="206.0156" y2="206.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="740" y="201.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="641" x="751" y="201.1592">createSNSuser(name,SNS number,birth date,citizen card number,sex,phone number,address,e-mail,password)</text><polygon fill="#181818" points="2121,232.3672,2131,236.3672,2121,240.3672,2125,236.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2127" y1="236.3672" y2="236.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1421" y="231.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="689" x="1432" y="231.5107">snsu = new SNSUser(name, address, genderOption, phoneNumber, email, birthDate, SNSNumber, citizenCardNumber)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="296.7188" y2="296.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="296.7188" y2="309.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="309.7188" y2="309.7188"/><polygon fill="#181818" points="1425,305.7188,1415,309.7188,1425,313.7188,1421,309.7188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1421" y="291.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="1432" y="291.8623">validateSNSuser()</text><polygon fill="#181818" points="63,336.0703,53,340.0703,63,344.0703,59,340.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="57" x2="727" y1="340.0703" y2="340.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="69" y="335.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="80" y="335.2139">shows the data and requests a confirmation</text><polygon fill="#181818" points="711,366.4219,721,370.4219,711,374.4219,715,370.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="717" y1="370.4219" y2="370.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="365.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="70" y="365.5654">confirms the data</text><polygon fill="#181818" points="1392,396.7734,1402,400.7734,1392,404.7734,1396,400.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="1398" y1="400.7734" y2="400.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="740" y="395.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="751" y="395.917">saveSNSuser(snsu)</text><polygon fill="#181818" points="1550,427.125,1560,431.125,1550,435.125,1554,431.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1556" y1="431.125" y2="431.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="426.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1439" y="426.2686">addSNSUser(snsu)</text><polygon fill="#181818" points="2351,457.4766,2361,461.4766,2351,465.4766,2355,461.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1572" x2="2357" y1="461.4766" y2="461.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1579" y="456.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1597" y="456.6201">addSNSUser(snsu)</text><polygon fill="#181818" points="2240,517.8281,2250,521.8281,2240,525.8281,2244,521.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1572" x2="2246" y1="521.8281" y2="521.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1579" y="516.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="643" x="1597" y="516.9717">addUserWithRole(snsu.getName(), snsu.getEmail(),generateRandomPassword(), Constants.ROLE_SNSUSER)</text><polygon fill="#181818" points="58,578.1797,48,582.1797,58,586.1797,54,582.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="727" y1="582.1797" y2="582.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="64" y="577.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="82" y="577.3232">informs operation success</text><!--MD5=[bd19fc44a17631041c7d2cb7b533d5fb]
@startuml
autonumber
actor "Receptionist" as recep

participant ": RegistersSNSuserUI" as UI
participant ": RegistersSNSuserController" as Controller
participant ": Company" as Company
participant "SNSUser" as SNSUser
participant ": AuthFacade" as auth

activate recep
recep -> UI :  starts the registration of a new SNS user
activate UI
UI - -> recep : requests data (name,SNS number,birth date,citizen card number,sex,phone number,address,e-mail,password)
deactivate UI

recep -> UI : types requested data
activate UI

UI -> Controller : createSNSuser(name,SNS number,birth date,citizen card number,sex,phone number,address,e-mail,password)
activate Controller


Controller -> SNSUser : snsu = new SNSUser(name, address, genderOption, phoneNumber, email, birthDate, SNSNumber, citizenCardNumber)
activate SNSUser
deactivate SNSUser


Controller -> Controller : validateSNSuser()

UI - -> recep : shows the data and requests a confirmation
deactivate UI
deactivate Controller

recep -> UI : confirms the data
activate UI

UI -> Controller : saveSNSuser(snsu)
activate Controller


Controller -> Company : addSNSUser(snsu)
activate Company


Company -> SNSuserStore : addSNSUser(snsu)
activate SNSuserStore
deactivate SNSuserStore

Company -> auth : addUserWithRole(snsu.getName(), snsu.getEmail(),generateRandomPassword(), Constants.ROLE_SNSUSER)
activate auth
deactivate auth

deactivate Controller
deactivate Company

UI - -> recep : informs operation success

deactivate UI
deactivate recep
@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>